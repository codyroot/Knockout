<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Knockout Custom Elements</title>
</head>
<body>
<h1>Knockout</h1>

<div id="toggle">
    <inner-time params="myText: 'Das soll rein'"></inner-time>
    <inner-time params="myText: 'Das soll rein'"></inner-time>
</div>

<script id="time" type="text/html">
    <div data-bind="visible: ViewModel.toggleVisibility">
        <h2 data-bind="text: myText">YPYP</h2>
    </div>
</script>

<script type="text/javascript" src="../lib/knockout.js"></script>
<script type="text/javascript">

    var ViewModel = function (params) {
        this.myText = ko.observable(params.myText);
    };

    ViewModel.toggleVisibility = ko.observable(true);

    ko.components.register("inner-time", {
        // Knockout creates an Instance of the constructor on its own!
        viewModel: ViewModel,
        template: document.querySelector("#time").innerHTML
    });

    ko.applyBindingsToNode(document.querySelector("#toggle"), {
        click: function () {
            ViewModel.toggleVisibility(!ViewModel.toggleVisibility())
        }
    }, null);

    ko.applyBindings();

</script>

</body>
</html>